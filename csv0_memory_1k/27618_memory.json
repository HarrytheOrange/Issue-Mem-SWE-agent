{
    "search_index": {
        "description_for_embedding": "Home Assistant Tesla integration had a non-top-level import for teslajsonpy inside the setup() function. The fix moved the teslajsonpy.Controller and TeslaException imports to the top of the module to comply with coding standards and avoid style/lint issues.",
        "keywords": [
            "Home Assistant",
            "tesla component",
            "teslajsonpy",
            "imports not at top of file",
            "coding standards",
            "lint error",
            "style fix",
            "module import placement"
        ]
    },
    "agent_memory": {
        "episodic_memory": "In the Home Assistant Tesla integration, the teslajsonpy library (Controller as teslaAPI and TeslaException) was being imported inside the setup(hass, base_config) function. This violated the project's coding standards and likely triggered linting errors such as 'import not at top of file'. The pull request addressed Issue #27288 by moving these imports from inside the setup function to the top-level of the module, alongside the other imports. No logic or behavioral changes were made; the change strictly improved code style and maintainability while ensuring compatibility with static analysis tools and project guidelines.",
        "semantic_memory": "Imports for third-party libraries and most modules should be placed at the top of the file, outside of functions or methods, unless there is a strong, explicit reason to delay or conditionally import them (e.g., to avoid heavy initialization costs, optional dependencies, or circular import issues). Keeping imports at the top improves readability, conforms to common Python and project-specific style guides (like PEP8 and many large codebases), and prevents linting errors. It also makes it easier for tools (linters, static analyzers, dependency scanners) to detect module usage and for developers to reason about module-level dependencies.",
        "procedural_memory": [
            "When encountering style or lint errors about imports inside functions, refactor the imports to the top of the module unless there is a compelling technical reason not to.",
            "Step 1: Run the project's linters and tests (e.g., tox, flake8, pylint) to identify any 'import not at top of file' or similar warnings/errors.",
            "Step 2: Open the reported file and locate imports that occur inside functions, methods, or conditional blocks.",
            "Step 3: Determine whether the import truly needs to be delayed (for example, to avoid a circular import, reduce startup time for rarely used code paths, or handle optional dependencies). If not, proceed to move it.",
            "Step 4: Move the import statements to the top of the module, grouped with other imports and ordered according to the project's style guide (typically: standard library, third-party, then local imports).",
            "Step 5: Ensure that the moved imports do not introduce circular imports or runtime errors. If they do, reconsider the design or isolate the problematic import behind a clearly documented conditional import pattern.",
            "Step 6: Re-run the test suite and linters to confirm that the style errors have been resolved and that no new issues have been introduced.",
            "Step 7: Update any related issue or pull request description to clarify that the change is a style/maintainability improvement and does not alter user-facing behavior."
        ]
    }
}